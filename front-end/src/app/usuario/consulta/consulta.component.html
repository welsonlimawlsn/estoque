<h1 class="titulo">Consulte os usuários</h1>
<form [formGroup]="form">
  <app-mensagem-erro></app-mensagem-erro>
  <h2>Filtros</h2>
  <div class="row">
    <div class="col-md-4">
      <app-input-cpf [formGroup]="form" formControlName="cpf" id="cpf" label="CPF"></app-input-cpf>
    </div>
    <div class="col-md-4">
      <app-input-text [formGroup]="form" formControlName="nome" id="nome" label="Nome"></app-input-text>
    </div>
    <div class="col-md-4">
      <app-select [formGroup]="form" [options]="grupos" formControlName="grupo" label="Grupo"></app-select>
    </div>
  </div>
  <div class="row">
    <div class="col-12 text-right">
      <button (click)="filtra()" [disabled]="form.invalid" class="btn btn-primary">Filtrar</button>
    </div>
  </div>
</form>
<div *ngIf="resposta" class="row">
  <div class="col-12">
    <h2 class="mt-2">Resultados
      <button (click)="downloadRelatorio()" class="btn btn-info float-right"><i class="fa fa-download"></i> Imprimir relatório</button>
    </h2>
    <table class="table table-dark">
      <thead>
      <tr>
        <th scope="col">CPF</th>
        <th scope="col">Nome</th>
        <th scope="col">Nome de Usuário</th>
        <th scope="col">E-mail</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let clientes of resposta?.lista">
        <th scope="row">{{clientes.cpf}}</th>
        <td>{{clientes.nome}}</td>
        <td>{{clientes.nomeUsuario}}</td>
        <td>{{clientes.email}}</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
